import{a as o,b as v,e as l,ia as b,k as p,o as n,s as h,sa as r}from"./chunk-VO7JYHVQ.js";var u=class s{apiUrl=r.omdbApiUrl;apiKey=r.omdbApiKey;baseJsonUrl=r.apiBaseUrl;favoritesUrl=`${this.baseJsonUrl}/favorites`;reviewsUrl=`${this.baseJsonUrl}/reviews`;http=h(b);searchMovies(e){return this.http.get(`${this.apiUrl}?s=${e}&apikey=${this.apiKey}`)}getMovieDetails(e){return this.http.get(`${this.apiUrl}?i=${e}&apikey=${this.apiKey}`)}getFavorites(e){return this.http.get(`${this.favoritesUrl}?userId=${e}`)}addToFavorites(e,i){return this.http.post(this.favoritesUrl,v(o({},i),{userId:e}))}removeFromFavorites(e,i){return this.http.get(`${this.favoritesUrl}?userId=${e}&imdbID=${i}`).pipe(p(t=>{if(t.length===0)return l(void 0);let a=t[0].id;return this.http.delete(`${this.favoritesUrl}/${a}`)}))}getReviews(e){return this.http.get(`${this.reviewsUrl}?movieId=${e}`)}addReview(e,i,t,a){return this.http.post(this.reviewsUrl,{userId:e,nickname:i,movieId:t,reviewText:a})}deleteReview(e){return this.http.delete(`${this.reviewsUrl}/${e}`)}searchMoviesByCategory(e,i=1){return this.http.get(`${this.apiUrl}?s=${e}&page=${i}&apikey=${this.apiKey}`)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
