import{a as B}from"./chunk-PFMCL42S.js";import{a as j}from"./chunk-R6ERBPII.js";import{B as i,E as k,I as u,K as s,L as T,M as f,N as x,O as b,P as y,Q as r,R as a,S,T as v,U as m,V as g,W as p,X as h,Y as q,Z as E,aa as I,ba as V,ga as z,ha as F,k as w,la as R,na as $,s as d,u as M,v as O,z as _}from"./chunk-VO7JYHVQ.js";function A(e,n){e&1&&(r(0,"p",1),p(1,"No movies found in this category."),a())}function G(e,n){if(e&1&&S(0,"app-movie-card",3),e&2){let t=n.$implicit;s("movie",t)}}function H(e,n){if(e&1&&(r(0,"span",8),p(1),a()),e&2){let t=g().$implicit;i(),h(t)}}function J(e,n){if(e&1){let t=v();r(0,"button",10),m("click",function(){M(t);let c=g().$implicit,C=g(2);return O(C.changePage(c))}),p(1),a()}if(e&2){let t=g().$implicit,o=g(2);T("active",t===o.currentPage()),s("disabled",t===o.currentPage()),i(),q(" ",t," ")}}function K(e,n){if(e&1&&u(0,H,2,1,"span",8)(1,J,2,4,"button",9),e&2){let t=n.$implicit;f(typeof t=="string"?0:1)}}function L(e,n){if(e&1){let t=v();r(0,"div",2),b(1,G,1,1,"app-movie-card",3,x),a(),r(3,"div",4)(4,"button",5),m("click",function(){M(t);let c=g();return O(c.changePage("prev"))}),p(5," Prev "),a(),b(6,K,2,1,null,null,x),r(8,"button",6),m("click",function(){M(t);let c=g();return O(c.changePage("next"))}),p(9," Next "),a(),r(10,"span",7),p(11),a()()}if(e&2){let t=g();i(),y(t.movies()),i(3),s("disabled",t.currentPage()===1),i(2),y(t.pages()),i(2),s("disabled",t.currentPage()>=t.totalPages()),i(3),E(" Page ",t.currentPage()," of ",t.totalPages()," ")}}var N=class e{route=d(R);router=d($);movieService=d(j);category=_("");currentPage=_(1);totalResults=_(0);movies=_([]);totalPages=_(1);pages=_([]);constructor(){this.route.params.pipe(w(n=>{let t=n.type??"",o=+(n.page??1);return this.category.set(t),this.currentPage.set(o),this.movieService.searchMoviesByCategory(t,o)})).subscribe(n=>{this.movies.set(n.Search??[]),this.totalResults.set(+n.totalResults||0),this.updatePagination()})}updatePagination(){let n=Math.ceil(this.totalResults()/10);this.totalPages.set(n);let t=this.currentPage(),o=4;if(n<=o*2+1){this.pages.set(Array.from({length:n},(P,D)=>D+1));return}let c=Math.max(t-o,1),C=Math.min(t+o,n),l=[];c>1&&(l.push(1),c>2&&l.push("..."));for(let P=c;P<=C;P++)l.push(P);C<n&&(C<n-1&&l.push("..."),l.push(n)),this.pages.set(l)}changePage(n){let t=this.currentPage();n==="prev"?t=Math.max(t-1,1):n==="next"?t=Math.min(t+1,this.totalPages()):t=n,this.router.navigate(["/category",this.category(),{page:t}])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["app-category"]],decls:6,vars:4,consts:[[1,"category-wrapper"],[1,"no-movies"],[1,"movies-list"],[3,"movie"],[1,"pagination"],[1,"page-btn","prev",3,"click","disabled"],[1,"page-btn","next",3,"click","disabled"],[1,"page-info"],[1,"dots"],[1,"page-btn",3,"disabled","active"],[1,"page-btn",3,"click","disabled"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"h2"),p(2),I(3,"titlecase"),a(),u(4,A,2,0,"p",1)(5,L,12,4),a()),t&2&&(i(2),h(V(3,2,o.category())),i(2),f(o.movies().length===0?4:5))},dependencies:[F,z,B],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], big[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], del[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], q[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], small[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], var[_ngcontent-%COMP%], b[_ngcontent-%COMP%], u[_ngcontent-%COMP%], i[_ngcontent-%COMP%], center[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], table[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], details[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], output[_ngcontent-%COMP%], ruby[_ngcontent-%COMP%], section[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], time[_ngcontent-%COMP%], mark[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], details[_ngcontent-%COMP%], figcaption[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], menu[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]{line-height:1}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], q[_ngcontent-%COMP%]{quotes:none}blockquote[_ngcontent-%COMP%]:before, blockquote[_ngcontent-%COMP%]:after, q[_ngcontent-%COMP%]:before, q[_ngcontent-%COMP%]:after{content:"";content:none}table[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0}a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]{box-sizing:border-box}.category-wrapper[_ngcontent-%COMP%]{padding:40px}.category-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;color:#2e859e;text-align:center;padding:20px 0}.category-wrapper[_ngcontent-%COMP%]   .no-movies[_ngcontent-%COMP%]{color:#999;text-align:center}.category-wrapper[_ngcontent-%COMP%]   .movies-list[_ngcontent-%COMP%]{display:flex;max-width:1200px;padding:0 60px;flex-wrap:wrap;gap:20px;margin:0 auto;justify-content:center}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:50px 0;justify-content:center;flex-wrap:wrap}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{color:#818181;padding:6px 13px;border:1px solid #ddd;border-radius:4px;background-color:#f5f5f5;cursor:pointer;transition:background-color .2s}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#ff5c5c;color:#fff;border:none}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn.active[_ngcontent-%COMP%]{background-color:#c9e7ff;border-color:#a7d3ff;cursor:default}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{margin:0 4px;font-weight:700;-webkit-user-select:none;user-select:none;color:#818181;cursor:not-allowed;padding:5.5px 13px;border:1px solid #ddd;border-radius:4px;background-color:#f5f5f5}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{margin-left:16px;color:#666;font-size:14px}@media (max-width: 768px){.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{gap:6px}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px}.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{margin-left:0;width:100%;text-align:center;margin-top:12px}}@media (max-width: 480px){.category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%], .category-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{padding:5px 8px;font-size:13px}}']})};export{N as CategoryComponent};
